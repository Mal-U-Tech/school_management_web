<div class="scoresheets-view-wrapper">
  <div class="title">
    <h1
      style="
        font-size: 1.6rem;
        font-weight: bold;
        text-align: center;
        padding: 25px;
      "
    >
      Scoresheets
    </h1>
  </div>
  <mat-progress-bar mode="indeterminate" *ngIf="isLoading"></mat-progress-bar>

  <mat-tab-group>
    <mat-tab
      [label]="scoresheet.year"
      class="label"
      *ngFor="let scoresheet of scoresheets; let i = index"
    >
      <div class="mat-elevation-z8 table-container">
        <table mat-table [dataSource]="scoresheet.scoresheets">
          <!--Position Column-->
          <ng-container matColumnDef="index">
            <th mat-header *matHeaderCellDef>Index</th>
            <td
              mat-cell
              *matCellDef="let element"
              (click)="selectScoresheet(element)"
            >
              {{ element.index }}
            </td>
          </ng-container>

          <!--Scoresheet Name Column-->
          <ng-container matColumnDef="name">
            <th mat-header *matHeaderCellDef>Name</th>
            <td
              mat-cell
              *matCellDef="let element"
              (click)="selectScoresheet(element)"
            >
              {{ element.name }}
            </td>
          </ng-container>

          <!--Scoresheet Year Column-->
          <ng-container matColumnDef="year">
            <th mat-header *matHeaderCellDef>Year</th>
            <td
              mat-cell
              *matCellDef="let element"
              (click)="selectScoresheet(element)"
            >
              {{ element.year }}
            </td>
          </ng-container>

          <!-- Actions Column-->
          <ng-container matColumnDef="actions">
            <th mat-header *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element">
              <button
                mat-icon-button
                color="primary"
                (click)="openUpdateScoresheetDialog(element)"
              >
                <mat-icon>edit</mat-icon>
              </button>
              <button
                mat-icon-button
                color="warn"
                (click)="openDeleteScoresheetDialog(element)"
              >
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: displayedColumns"
            class="row-item"
          ></tr>

          <tr *matNoDataRow>
            <td class="no-data" colspan="4">No scoresheets found!</td>
          </tr>
        </table>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
